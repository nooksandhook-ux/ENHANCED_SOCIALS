{% extends 'base.html' %}
{% block content %}
<div class="container">
  <h2>My Clubs</h2>
  <nav class="mb-3">
    <a href="{{ url_for('nooks_club.index') }}" class="btn btn-outline-secondary">Back to Clubs</a>
    <a href="{{ url_for('nooks_club.create_club') }}" class="btn btn-primary">Create Club</a>
  </nav>
  <div class="card-list">
    {% for club in clubs %}
    <div class="card mb-3">
      <div class="card-body">
        <h5 class="card-title">{{ club.name }}</h5>
        <p class="card-text">{{ club.description or 'No description' }}</p>
        <p class="card-text"><small class="text-muted">Topic: {{ club.topic or 'None' }}</small></p>
        <p class="card-text"><small class="text-muted">Created by: {{ club.creator_username }}</small></p>
        <a href="{{ url_for('nooks_club.view_club', club_id=club._id) }}" class="btn btn-info">View {{ club.name }}</a>
        {% if club.is_admin %}
        <a href="{{ url_for('nooks_club.view_club', club_id=club._id) }}#manage" class="btn btn-warning">Manage {{ club.name }}</a>
        {% endif %}
      </div>
    </div>
    {% else %}
    <p>You haven't joined any clubs yet. <a href="{{ url_for('nooks_club.index') }}">Browse clubs</a> to join one!</p>
    {% endfor %}
  </div>
</div>
{% endblock %}
